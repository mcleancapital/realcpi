<html lang="en"><head>



<script src="https://pagead2.googlesyndication.com/pagead/managed/js/adsense/m202507090101/show_ads_impl_fy2021.js?bust=31093415"></script><script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3345310399251053" crossorigin="anonymous" data-checked-head="true"></script>



<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-97F7RYQNKC"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-97F7RYQNKC');
</script>

<style>
.menu-bar {
    text-align: center;
    margin-top: 10px;
    padding: 10px;
    background-color: #f9f9f9;

}



.menu-bar ul {

    list-style: none;
    padding: 0;
    margin: 0;

}



.menu-bar ul li {

    display: inline-block;
    margin: 0 25px;

}



.menu-bar ul li a {

    text-decoration: none;
    font-size: 18px;
    padding: 8px 12px;
    color: #222;

}


.menu-bar ul li a:hover {
    text-decoration: underline;
}

.container {

  display: flex; /* Create a flex container */
  gap: 16px; /* Add space between columns */

}

.left-column {

  flex: 1; /* Takes up 1/4 of the space */
  background-color: #f9f9f9; /* Optional: Light background for visibility */
  padding: 16px;
}

.center-column {
  flex: 2; /* Takes up 2/4 of the space */
  padding: 16px;
}	
	
.right-column {
  flex: 1; /* Takes up 1/4 of the space */
  padding: 16px;
}



a,abbr,acronym,address,applet,article,aside,audio,b,big,blockquote,body,canvas,caption,center,cite,code,dd,del,details,dfn,div,dl,dt,em,embed,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,header,hgroup,html,i,iframe,img,ins,kbd,label,legend,li,mark,menu,nav,object,ol,output,p,pre,q,ruby,s,samp,section,small,span,strike,strong,sub,summary,sup,table,tbody,td,tfoot,th,thead,time,tr,tt,u,ul,var,video{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:after,blockquote:before,q:after,q:before{content:'';content:none}table{border-collapse:collapse;border-spacing:0}

        @font-face{

                font-family:"Whitney";
                font-style:normal;
                font-weight:400;
                font-stretch:normal;
                font-display:swap;
                src:url("/fonts/whitney-book-webfont.woff") format("woff");
                font-display: swap;}

        @font-face{

                font-family:concourse_ot_3_book;
                font-style:italic;
                font-weight:400;
                font-stretch:normal;
                font-display:swap;
                src:url('/static/fonts/concourse_ot_3_book_italic.woff2') format('woff2')}

        body{

                font-size:17px;
                color:#222;
                line-height:1.43;
                -webkit-font-smoothing:antialiased;
                font-family:"Garamond", serif}

.summary-container {
  font-size: 13px;
  padding: 8px;f
  border-radius: 6px;
  margin-top: 10px;
}

.summary-container .header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 12px;
  margin-bottom: 6px;
}

.summary-container select {
  font-size: 13px;
  padding: 2px 6px;
}

.summary-container .btn-edit {
  background: none;
  border: none;
  font-size: 14px;
  cursor: pointer;
  padding: 0;
}

#summary-portfolio-container table td:nth-child(2) {
  text-align: right;
  width: 20%;
}

#summary-portfolio-container table td:nth-child(1) {
  width: 80%;
}
	
.summary-container table {
  width: 107%;	
  border-collapse: collapse;
  table-layout: fixed;
  background-color: #fcfcfc;
  border: 1px solid #ccc;
}

.summary-container td {
  padding: 4px 6px;
  border-bottom: 1px dotted #ccc;
  vertical-align: top;
  font-size: 13px;
}

.summary-container .ticker-name {
  font-weight: bold;
}

.summary-container .name {
  color: #777;
  font-size: 13px;
}

.summary-container .price {
  font-weight: bold;
}

.summary-container .move {
  font-size: 13px;
}


        @media (min-width:550px){:root{--grid-columns:2}}
        @media (min-width:950px){:root{--grid-columns:3}}
        @media (min-width:1128px){:root{--grid-columns:4}}
        .box{display:flex;flex-direction:column}.chart canvas{width:100%}:root{--std_padding:40px}
        header{

                position: relative;
                display:block;
                align-items:center;
                text-align:center}

        header{

                padding:0 var(--std_padding);
                box-shadow:rgb(0 0 0 / 8%) 0 1px 0}

        #logo{flex:1 0 auto;display:inline-flex;align-items:center;text-align:center;height:64px}#logo svg{height:20px}main{padding:var(--std_padding) 16px}

        #grid{display:grid;grid-gap:40px 12px;

              grid-template-columns:repeat(var(--grid-columns,1),1fr)}



@media(min-width:730px){

	.mobile-menu {
        	display: none;
    	}



	header{display:flex;align-items:center;padding:0 24px}
	#logo svg{height:32px}
	#logo{flex:0 0 auto;display:inline-flex;align-items:center;height:80px}

                	a.box:hover{
                	        border:.5px solid #ccc;
                	        border-radius:16px}
               	 main{padding:var(--std_padding) 16px}
               	 #grid{grid-gap:24px 8px}



	.hamburger-menu {
       		display: none;
  		}

   	.menu-bar ul {
        	display: flex;
    		}
	}





a.box{padding:8px}
#tag{flex:1 0 auto;padding-left:24px;font-weight:700}
#tag{flex:0 1 auto;display:none}


@media (min-width:730px){#tag{display:block}}
                a.box{
                        border:.5px solid transparent;
                        color:inherit;
                        text-decoration:none}
                a.box:hover{
                        text-decoration:none}
                a.touch_box{border:.5px solid #ccc;border-radius:16px}.box h3{font-weight:700}.box .date{color:#717171}.pos{color:#55a232}.neg{color:#cc3314}


footer{
	padding:var(--std_padding);
	box-shadow:rgb(0 0 0 / 8%) 0 -1px 0;
	text-align:center;
	color:#717171;font-size:.75em}
a,a:visited{color:#222;text-decoration:none}a:hover{text-decoration:underline}a.more:hover{text-decoration:none}a.more{text-align:center;display:block;margin:var(--std_padding) auto 0 auto;color:#fff;border:1px solid rgba(0,0,0,.08);border-radius:24px;background-color:#000;padding:14px 19px;width:80px}


        @media (max-width: 729px) {

  #user-status-desktop {
    display: none !important;
    font-size: 13px;	  
  }

		
#user-status-mobile {
  text-align: right;
  font-size: 12px;
  white-space: nowrap;
  margin-right: 8px; /* üëà creates space between login info and hamburger */	
}
		
  #summary-portfolio-container {
    display: none !important;
  }
		
  #ticker-bar {

    flex-wrap: nowrap;
    overflow-x: auto;
    white-space: nowrap;
    justify-content: flex-start; /* Align items to the left */
    -webkit-overflow-scrolling: touch; /* Smooth scrolling on iOS */

  }



  #ticker-bar span {

    flex: 0 0 auto; /* Prevent shrinking */
    min-width: 120px; /* Or more depending on your content */

  }               



.mobile-menu {
  display: flex;
  justify-content: space-between;
  align-items: center;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  background-color: #ffffff;
  border-bottom: 1px solid #ccc;
  z-index: 2000;
  padding: 8px 12px;
  box-sizing: border-box;
}

.mobile-menu-left img {
  height: 52px;
}

.mobile-menu-right {
  display: flex;
  align-items: center;
  gap: 16px;
}



            .mobile-menu button {
                flex: 1;
                padding: 0px;
                font-size: 48px;
		top: 0;
                border: none;
                background-color: #fff;
                cursor: pointer;
                transition: background-color 0.3s ease;
            }



.mobile-menu button.hamburger-menu {

    flex: 1;
    padding: 0px;
    font-size: 48px;
    border: none;
    background-color: #fff;
    cursor: pointer;
    z-index: 2001; /* Ensure above ticker bar and input box */
    position: relative;
}


            .mobile-menu button:hover {
                background-color: #e0e0e0;

            }

            body {
                margin-top: 64px; /* Prevent content overlap with the fixed menu */
            }



.left-column {
    display: none; /* Hide the left column */
  }



  .right-column {

    flex: 1; /* Take full width when left column is hidden */

  }

                #logo {

        display: none; /* Hide the logo on mobile */

  }
                }



/* Add the center-text class here */

.center-text {

            display: flex;
            justify-content: center; /* Center horizontally */
            align-items: center;     /* Center vertically */
            width: 100%;             /* Full width of the page */
            height: 5vh;           /* Take full viewport height */
            font-size: 35px;         /* Make the font larger */
            font-weight: bold;       /* Bold text */
            text-align: center;      /* Text alignment */
   	    border: 0.5px solid black; /* Add a border around the box */
    	    background-color: #e8e8e8; /* Light gray background for the box */
    	    padding: 10px;           /* Space between text and border */
    	    box-sizing: border-box;  /* Include padding and border in width/height */
}



.center-text2 {
            display: flex;
            justify-content: center; /* Center horizontally */
            align-items: center;     /* Center vertically */
            width: 100%;             /* Full width of the page */
            height: 5vh;           /* Take full viewport height */
            font-size: 25px;         /* Make the font larger */
            font-weight: bold;       /* Bold text */
            text-align: center;      /* Text alignment */
}



.small-centered-text {
    font-size: 12px;
    text-align: center;
    padding: 1px;
}



/* Hide the menu items by default on mobile */

@media (max-width: 729px) {

    .menu-bar ul {
        display: none;
        flex-direction: column;
        background-color: white;
        position: fixed; * Now stays visible while scrolling */
        top: 120px; /* Adjust so it appears below the hamburger */
        left: 0;
        width: 100%;
	z-index: 3000; /* <-- Add this */
        box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.2);
        text-align: center;
        padding: 0;
    }



    /* Show menu when toggled */

    .menu-bar ul.show {

        display: flex;

    }


    /* Style menu items in mobile mode */

    .menu-bar ul li {
        display: block;
        width: 100%;
        padding: 10px 0;
        border-bottom: 1px solid #ddd;
    }



    /* Style hamburger button */
.hamburger-menu {
  font-size: 32px;
  background: none;
  border: none;
  cursor: pointer;
  padding: 4px;
	position: relative;  /* Required for z-index to take effect */
        z-index: 2001;        /* üëà Make sure it floats above the ticker bar and input */
    }
}

	

</style>



<meta name="viewport" content="initial-scale=1">


<title>Real CPI</title>
<meta property="og:site_name" content="Real CPI">
<link rel="icon" type="image/png" href="https://www.realcpi.org/static/images/favicon.png">
<script type="application/ld+json">

{

"@context" : "https://schema.org",
"@type" : "WebSite",
"name" : "Real CPI",
"url" : "https://www.realcpi.org/"
"description": "Real CPI provides economic, stock market, real estate, financial and industry-specific data.",
  "about": {
    "@type": "Thing",
    "name": "Financial Data"
}


</script>

<meta name="description" content="Financial metrics that give you the real data about the market and the economy.">
<link rel="canonical" href="https://www.realcpi.org/">


<meta http-equiv="origin-trial" content="AlK2UR5SkAlj8jjdEc9p3F3xuFYlF6LYjAML3EOqw1g26eCwWPjdmecULvBH5MVPoqKYrOfPhYVL71xAXI1IBQoAAAB8eyJvcmlnaW4iOiJodHRwczovL2RvdWJsZWNsaWNrLm5ldDo0NDMiLCJmZWF0dXJlIjoiV2ViVmlld1hSZXF1ZXN0ZWRXaXRoRGVwcmVjYXRpb24iLCJleHBpcnkiOjE3NTgwNjcxOTksImlzU3ViZG9tYWluIjp0cnVlfQ=="><meta http-equiv="origin-trial" content="Amm8/NmvvQfhwCib6I7ZsmUxiSCfOxWxHayJwyU1r3gRIItzr7bNQid6O8ZYaE1GSQTa69WwhPC9flq/oYkRBwsAAACCeyJvcmlnaW4iOiJodHRwczovL2dvb2dsZXN5bmRpY2F0aW9uLmNvbTo0NDMiLCJmZWF0dXJlIjoiV2ViVmlld1hSZXF1ZXN0ZWRXaXRoRGVwcmVjYXRpb24iLCJleHBpcnkiOjE3NTgwNjcxOTksImlzU3ViZG9tYWluIjp0cnVlfQ=="><meta http-equiv="origin-trial" content="A9wSqI5i0iwGdf6L1CERNdmsTPgVu44ewj8QxTBYgsv1LCPUVF7YmWOvTappqB1139jAymxUW/RO8zmMqo4zlAAAAACNeyJvcmlnaW4iOiJodHRwczovL2RvdWJsZWNsaWNrLm5ldDo0NDMiLCJmZWF0dXJlIjoiRmxlZGdlQmlkZGluZ0FuZEF1Y3Rpb25TZXJ2ZXIiLCJleHBpcnkiOjE3MzY4MTI4MDAsImlzU3ViZG9tYWluIjp0cnVlLCJpc1RoaXJkUGFydHkiOnRydWV9"><meta http-equiv="origin-trial" content="A+d7vJfYtay4OUbdtRPZA3y7bKQLsxaMEPmxgfhBGqKXNrdkCQeJlUwqa6EBbSfjwFtJWTrWIioXeMW+y8bWAgQAAACTeyJvcmlnaW4iOiJodHRwczovL2dvb2dsZXN5bmRpY2F0aW9uLmNvbTo0NDMiLCJmZWF0dXJlIjoiRmxlZGdlQmlkZGluZ0FuZEF1Y3Rpb25TZXJ2ZXIiLCJleHBpcnkiOjE3MzY4MTI4MDAsImlzU3ViZG9tYWluIjp0cnVlLCJpc1RoaXJkUGFydHkiOnRydWV9"></head>
<body>
<header>

<a id="logo" href="https://www.realcpi.org/">
    <img src="https://www.realcpi.org/static/images/favicon.png" alt="Real CPI Logo" height="50" style="padding: 10px;">
</a>


    <nav class="menu-bar">
        <ul id="menu-items">
            <li><a href="https://www.realcpi.org/">Daily Data</a></li>
            <li><a href="https://www.realcpi.org/stocks.html">Stock Market</a></li>
            <li><a href="https://www.realcpi.org/realestate.html">Real Estate</a></li>
            <li><a href="https://www.realcpi.org/economy.html">Economic Dashboard</a></li>
            <li class="current"><a href="https://www.realcpi.org/search.html" style="color: blue;">Stock Search</a></li>
            <li><a href="https://www.realcpi.org/currency.html">Currency Converter</a></li>
            <li><a href="https://tradingeconomics.com/commodities" target="_blank" rel="noopener noreferrer">Commodities</a></li>
        </ul>
    </nav>

	
<div id="user-status-desktop" style="margin-left: auto; padding: 8px 18px; text-align: right;">
    <div style="text-align: right;">
      <a id="user-name" href="rc_portfolio.html" style="font-weight: bold; font-size: 14px; color: black; text-decoration: none; cursor: pointer;">
        Ian McLean ‚≠ê
      </a><br>
      <a href="#" onclick="logout()" style="font-size: 14px; color: #0056b3;">Log out</a>
    </div>
  </div>


<!--

<div id="top-right-links">

        <a href="/list" class="top-link">List View</a>
        <a href="/detailed" class="top-link">Detailed View</a>

</div> -->

</header>



<div id="ticker-bar"><span>

        <a href="https://www.realcpi.org/search.html?ticker=VOO" style="text-decoration: none; color: inherit;">

          <div class="blue">S&amp;P 500</div>

          <div>6,259.75</div>

          <div class="red">-0.33%</div>

        </a>

      </span><span>

        <a href="https://www.realcpi.org/search.html?ticker=QQQ" style="text-decoration: none; color: inherit;">

          <div class="blue">NASDAQ</div>

          <div>20,585.53</div>

          <div class="red">-0.22%</div>

        </a>

      </span><span>

        <a href="https://www.realcpi.org/search.html?ticker=IWM" style="text-decoration: none; color: inherit;">

          <div class="blue">Russell 2000</div>

          <div>2,234.83</div>

          <div class="red">-1.26%</div>

        </a>

      </span><span>

        <a href="https://www.realcpi.org/search.html?ticker=XIC.to" style="text-decoration: none; color: inherit;">

          <div class="blue">S&amp;P/TSX</div>

          <div>27,023.25</div>

          <div class="red">-0.22%</div>

        </a>

      </span><span>

        <a href="https://www.realcpi.org/search.html?ticker=URTH" style="text-decoration: none; color: inherit;">

          <div class="blue">MSCI World</div>

          <div>170.11</div>

          <div class="red">-0.54%</div>

        </a>

      </span><span>

        <a href="https://www.realcpi.org/search.html?ticker=CLUSD" style="text-decoration: none; color: inherit;">

          <div class="blue">Crude Oil</div>

          <div>69.45</div>

          <div class="green">1.46%</div>

        </a>

      </span><span>

        <a href="https://www.realcpi.org/search.html?ticker=IEF" style="text-decoration: none; color: inherit;">

          <div class="blue">10-Year</div>

          <div>4.42</div>

          <div class="green">1.77%</div>

        </a>

      </span><span>

        <a href="https://www.realcpi.org/search.html?ticker=BTCUSD" style="text-decoration: none; color: inherit;">

          <div class="blue">Bitcoin</div>

          <div>121,797.95</div>

          <div class="green">2.24%</div>

        </a>

      </span><span>

        <a href="https://www.realcpi.org/search.html?ticker=XAUUSD" style="text-decoration: none; color: inherit;">

          <div class="blue">Gold</div>

          <div>3,357.40</div>

          <div class="green">0.05%</div>

        </a>

      </span><span>

        <a href="https://www.realcpi.org/search.html?ticker=CADUSD" style="text-decoration: none; color: inherit;">

          <div class="blue">CAD/USD</div>

          <div>0.73</div>

          <div class="red">-0.01%</div>

        </a>

      </span></div>



<style>

#ticker-bar {
  background-color: #f0f0f0;
  border-top: 1px solid #ccc;
  border-bottom: 1px solid #ccc;
  padding: 8px 16px;
  font-size: 14px;
  font-family: "Whitney", sans-serif;
  display: flex;
  gap: 40px;
  justify-content: center;
  overflow-x: auto;
  white-space: nowrap;
  text-align: center;
}

#ticker-bar span {
  display: inline-block;
  min-width: 90px;
}
.green {
  color: #55a232;
}
.red {
  color: #cc3314;
}
.blue {
  color: #0056b3;
  font-weight: bold;
}

        input { font-size: 18px; padding: 8px; width: 300px; }
        #currentPrice { font-size: 24px; font-weight: bold; margin-left: 20px; display: inline-block; vertical-align: middle; }
        #companyName { font-size: 20px; font-weight: bold !important; margin-left: 10px; display: inline-block; vertical-align: middle; }
        #controls { margin-top: 20px; }
        button.range-btn {
          padding: 6px 10px;
          margin-right: 6px;
          font-size: 14px;
          cursor: pointer;
        }

        button.range-btn.active {
          background-color: #007bff;
          color: white;
        }

        #stock-container {
          display: flex;
          flex-wrap: wrap;
          gap: 40px;
          margin-top: 20px;
          align-items: flex-start;
        }

        #chart-container {
          flex: 2;
          min-width: 300px;
        }

        #info {
          flex: 1;
          min-width: 250px;
        }

#extra-metrics {
  font-size: 17px;
  line-height: 1.43;
  margin-top: 10px;
  display: none;
  color: #222;
}
	
</style>



<main>



<div class="container">
    <!-- Left Column -->
    <div class="left-column">
	<iframe src="https://www.realcpi.org/news.html" style="width: 100%; height: 5627px; border: medium;" onload="this.style.height=(this.contentDocument.body.scrollHeight + 50) + 'px';"></iframe>
    </div>



    <!-- Center Column -->
    <div class="center-column">
	    
<div class="mobile-menu">
  <div class="mobile-menu-left">
    <img src="https://www.realcpi.org/static/images/favicon.png" alt="Real CPI Logo" height="50">
  </div>
  <div class="mobile-menu-right">
    <button class="hamburger-menu" onclick="toggleMenu()">‚ò∞</button>
  </div>
</div>


      <title>Stock Lookup</title>
      <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<h2>üîç Lookup a Stock</h2>

<div style="position: relative; display: inline-block;">

  <div style="position: relative; display: inline-block;">

    <input id="tickerInput" type="text" placeholder="Type ticker or company name..." oninput="handleInput()" onkeydown="handleKeyDown(event)">

    <ul id="suggestions" style="position: absolute; top: 100%; left: 0px; right: 0px; z-index: 1000; background: white; border: 1px solid rgb(204, 204, 204); list-style: none; padding: 0px; margin: 0px; max-height: 200px; overflow-y: auto; display: none;"><li style="padding: 8px; cursor: pointer;">The Coca-Cola Company (KO)</li><li style="padding: 8px; cursor: pointer;">Kosmos Energy Ltd. (KOS)</li><li style="padding: 8px; cursor: pointer;">Corvus Gold Inc. (KOR)</li><li style="padding: 8px; cursor: pointer;">Koppers Holdings Inc. (KOP)</li><li style="padding: 8px; cursor: pointer;">VanEck Vectors Coal ETF (KOL)</li><li style="padding: 8px; cursor: pointer;">Coca-Cola FEMSA, S.A.B. de C.V. (KOF)</li><li style="padding: 8px; cursor: pointer;">Kodiak Sciences Inc. (KOD)</li><li style="padding: 8px; cursor: pointer;">Korver Corp. (KOVR)</li><li style="padding: 8px; cursor: pointer;">Kiaro Holdings Corp. (KO.V)</li><li style="padding: 8px; cursor: pointer;">Koss Corporation (KOSS)</li></ul>

  </div>



</div>

<span id="currentPrice">$69.87</span>
<span id="dailyChange" style="margin-left: 10px; font-size: 16px;"></span>
<span id="companyName">The Coca-Cola Company</span>

<div id="controls">
  <div>
    <button class="range-btn" onclick="setRange('ytd')">YTD</button>
    <button class="range-btn active" onclick="setRange('5y')">5 Years</button>
    <button class="range-btn" onclick="setRange('10y')">10 Years</button>
    <button class="range-btn" onclick="setRange('max')">Max</button>
  </div>
</div>


<div id="stock-container">
	  <div id="info" style="font-size: 17px; line-height: 1.43;">
    <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 10px;">
      <img id="company-logo" src="https://www.realcpi.org/static/images/ko.png" alt="The Coca-Cola Company Logo" style="height: 36px; max-width: 60px;" onerror="this.onerror=null; this.src='https://images.financialmodelingprep.com/symbol/KO.png';">
      <h3 style="margin: 0;"><strong>The Coca-Cola Company (KO)</strong></h3>
    </div>

    <p><strong>Exchange:</strong> New York Stock Exchange</p>
    <p><strong>Currency:</strong> USD</p>
    <p><strong>Headquarters:</strong> Atlanta, GA US</p>    
    <p><strong>CEO:</strong> James Robert B. Quincey</p>

    <p style="margin-top: 8px;"><strong>Market Cap:</strong> $300,739M</p>
    <p>P/E Ratio: 27.9</p>
    <p>Forward P/E: 21.8</p>
    <p>Equity / Total Liabilities: 33.5%</p>
    <p>Dividend Yield: 2.85%</p>
    <p>Industry: Beverages - Non-Alcoholic</p>
    <p><strong>Next Earnings Date:</strong> 2025-10-21</p>
    <p style="margin-top: 12px; margin-bottom: 12px;">
      <a href="https://www.coca-colacompany.com" target="_blank" style="color: #0056b3; font-weight: bold;">Website</a>
    </p>
  <div id="returns"><p><strong>Total return:</strong> 50.58%</p><p><strong>Annualized return (excl. div.):</strong> 8.55%</p></div></div>
<div id="chart-container">
  <canvas id="priceChart" style="display: block; box-sizing: border-box; height: 274px; width: 548px;" width="548" height="274"></canvas><br>
  <a id="pdfLink" href="https://realcpi-reports.s3.us-east-1.amazonaws.com/ko.pdf" target="_blank" style="font-size: 14px; color: rgb(0, 86, 179); font-weight: bold; text-decoration: none; display: inline;">üìÑ Report on KO</a>

  <div id="extra-metrics" style="font-size: 14px; margin-top: 10px; display: none;">
    <p><strong>Last Close:</strong> <span id="last-close"></span></p>
    <p><strong>Avg Daily Volume:</strong> <span id="avg-volume"></span></p>
  </div>
</div>


</div>



<script>

const apiKey = "y9Bthip8mNYaWhrHQp0eTtPX3KltVYPj";
let chart, allPrices = [], currentTicker = "", currentRange = "5y";

function filterDataByRange(range) {
  const now = new Date();
  let fromDate;
  switch (range) {
    case 'ytd': fromDate = new Date(now.getFullYear(), 0, 1); break;
    case '5y': fromDate = new Date(); fromDate.setFullYear(now.getFullYear() - 5); break;
    case '10y': fromDate = new Date(); fromDate.setFullYear(now.getFullYear() - 10); break;
    default: return allPrices;
  }
  return allPrices.filter(d => new Date(d.date) >= fromDate);
}



function calculateReturns(data, range) {
  if (data.length < 2) return { total: "N/A", annual: "" };
  const start = data[0].close;
  const end = data[data.length - 1].close;
  const totalReturn = ((end - start) / start) * 100;
  const days = (new Date(data[data.length - 1].date) - new Date(data[0].date)) / (1000 * 60 * 60 * 24);
  const annualized = ((1 + totalReturn / 100) ** (365 / days) - 1) * 100;
  return {
    total: totalReturn.toFixed(2) + '%',
    annual: ['5y', '10y', 'ytd', 'max'].includes(range) ? annualized.toFixed(2) + '%' : ""
  };
}



function setRange(range) {

  currentRange = range;
  document.querySelectorAll('.range-btn').forEach(btn => btn.classList.remove('active'));
  document.querySelector(`.range-btn[onclick*="${range}"]`).classList.add('active');

  const filtered = filterDataByRange(range);
  const sorted = filtered.slice().sort((a, b) => new Date(a.date) - new Date(b.date));
  const labels = sorted.map(d => d.date);
  const data = sorted.map(d => d.close);
  const returns = calculateReturns(sorted, range);

  if (chart) chart.destroy();
  chart = new Chart(document.getElementById("priceChart"), {
    type: 'line',
    data: {
      labels,
      datasets: [{
        data,
        fill: false,
        borderColor: 'blue'
      }]
    },
    options: {
      plugins: {
        legend: { display: false },
        tooltip: {
          callbacks: {
            label: function (context) {
              const currentValue = context.raw;
              const startValue = data[0];
              const change = ((currentValue - startValue) / startValue) * 100;
              return `Price: $${currentValue.toFixed(2)} (${change >= 0 ? '+' : ''}${change.toFixed(2)}%)`;
            }
          }
        }
      },
      responsive: true,
      scales: {
        x: { display: true },
        y: { display: true }
      }
    }
  });




  document.getElementById("info").querySelector("#returns")?.remove();
  const div = document.createElement("div");
  div.id = "returns";
  div.innerHTML = `<p><strong>Total return:</strong> ${returns.total}</p>` +
                  (returns.annual ? `<p><strong>Annualized return (excl. div.):</strong> ${returns.annual}</p>` : "");
  document.getElementById("info").appendChild(div);

}

// Try Yahoo! Finance earnings date first
async function getNextEarningsDateYahoo(ticker) {
  try {
    const res = await fetch(`https://query1.finance.yahoo.com/v10/finance/quoteSummary/${ticker}?modules=calendarEvents`);
    const data = await res.json();
    const earningsDate = data?.quoteSummary?.result?.[0]?.calendarEvents?.earnings?.earningsDate?.[0]?.fmt;
    return earningsDate || null;
  } catch (err) {
    console.warn("Yahoo earnings fetch failed:", err);
    return null;
  }
}
	

async function loadData() {
  const rawInput = document.getElementById("tickerInput").value.trim();
  if (!rawInput) return;
  const ticker = rawInput.toLowerCase();
  currentTicker = ticker;

  checkIfPdfExists(ticker).then(exists => {
    const pdfLink = document.getElementById("pdfLink");
    if (exists) {
      pdfLink.href = `https://realcpi-reports.s3.us-east-1.amazonaws.com/${ticker}.pdf`;
      pdfLink.innerText = `üìÑ Report on ${ticker.toUpperCase()}`;
      pdfLink.style.display = "inline";
    } else {
      pdfLink.style.display = "none";
   }
  });

async function saveStaticSnapshot(ticker) {
  let htmlContent = document.documentElement.outerHTML;

  // Fix relative iframe src paths by replacing them with absolute URLs
  htmlContent = htmlContent
    .replace(/src="news\.html"/g, 'src="https://www.realcpi.org/news.html"')
    .replace(/src="news2\.html"/g, 'src="https://www.realcpi.org/news2.html"')
    .replace(/src="summary_portfolio\.html"/g, 'src="https://www.realcpi.org/summary_portfolio.html"')
    .replace(/src="\/static\//g, 'src="https://www.realcpi.org/static/') // also fix static paths
    .replace(/href="\/static\//g, 'href="https://www.realcpi.org/static/')
    .replace(/script\.src\s*=\s*["']\/static\/js\/summaryPortfolio\.js["']/g, 'script.src="https://www.realcpi.org/static/js/summaryPortfolio.js"')
    .replace(/href="stocks\.html"/g, 'href="https://www.realcpi.org/stocks.html"')
    .replace(/href="realestate\.html"/g, 'href="https://www.realcpi.org/realestate.html"')
    .replace(/href="economy\.html"/g, 'href="https://www.realcpi.org/economy.html"')
    .replace(/href="search\.html"/g, 'href="https://www.realcpi.org/search.html"')
    .replace(/href="currency\.html"/g, 'href="https://www.realcpi.org/currency.html"')
    .replace(/href="\/"/g, 'href="https://www.realcpi.org/"');
	

  await fetch('https://vyay46elra.execute-api.us-east-1.amazonaws.com/save-html', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({
      filename: `${ticker.toLowerCase()}.html`,
      html: htmlContent
    })
  });
}


	

  document.getElementById("suggestions").style.display = "none"; // ‚¨ÖÔ∏è Add this


const today = new Date();
const fourMonthsLater = new Date();
fourMonthsLater.setMonth(fourMonthsLater.getMonth() + 4);

const fromDate = today.toISOString().split("T")[0];
const toDate = fourMonthsLater.toISOString().split("T")[0];
	
const [
  profileData,
  historyData,
  balanceSheetData,
  estimatesData,
  ratiosData,
  quoteData
] = await Promise.all([
  fetch(`https://financialmodelingprep.com/api/v3/profile/${ticker}?apikey=${apiKey}`).then(r => r.json()),
  fetch(`https://financialmodelingprep.com/api/v3/historical-price-full/${ticker}?serietype=line&apikey=${apiKey}`).then(r => r.json()),
  fetch(`https://financialmodelingprep.com/api/v3/balance-sheet-statement/${ticker}?limit=1&apikey=${apiKey}`).then(r => r.json()),
  fetch(`https://financialmodelingprep.com/api/v3/analyst-estimates/${ticker}?apikey=${apiKey}`).then(r => r.json()),
  fetch(`https://financialmodelingprep.com/api/v3/ratios-ttm/${ticker}?apikey=${apiKey}`).then(r => r.json()),
  fetch(`https://financialmodelingprep.com/api/v3/quote/${ticker}?apikey=${apiKey}`).then(r => r.json())
]);

// Get earnings from Yahoo first
let nextEarningsDate = await getNextEarningsDateYahoo(ticker);

// If Yahoo returns null, fallback to FMP
if (!nextEarningsDate) {
  const earningsData = await fetch(`https://financialmodelingprep.com/api/v3/earning_calendar?from=${fromDate}&to=${toDate}&apikey=${apiKey}`)
    .then(res => res.json())
    .then(data => data.filter(item => item.symbol === ticker.toUpperCase()));
  nextEarningsDate = earningsData.length ? earningsData[0].date : "N/A";
}






  const profile = profileData[0];
  allPrices = historyData.historical || [];
  const balance = balanceSheetData[0];
  const ratios = ratiosData[0];
  const currentYear = new Date().getFullYear();
  const nextYearEstimate = estimatesData.find(est => new Date(est.date).getFullYear() === currentYear + 1);
  const estimatedEpsAvg = nextYearEstimate?.estimatedEpsAvg;
  const allowedCurrencies = ["USD", "CAD"];
  const currency = profile.currency || "N/A";

  const forwardPE = (allowedCurrencies.includes(currency) && estimatedEpsAvg && profile.price)
    ? (profile.price / estimatedEpsAvg).toFixed(1)
    : "N/A";

  const dividendYield = (allowedCurrencies.includes(currency) && typeof profile.lastDiv === 'number' && profile.price)
    ? ((profile.lastDiv / profile.price) * 100).toFixed(2) + '%'
    : "N/A";


  const peRatioRaw = profile.pe || ratios?.peRatioTTM || "N/A";
  const peRatio = typeof peRatioRaw === 'number' ? peRatioRaw.toFixed(1) : peRatioRaw;
  const equityToLiabilities = balance?.totalStockholdersEquity && balance?.totalLiabilities

    ? ((balance.totalStockholdersEquity / balance.totalLiabilities) * 100).toFixed(1) + '%'
    : "N/A";



  if (!profile || allPrices.length === 0) {
    document.getElementById("info").innerHTML = `<p>Not found.</p>`;
    document.getElementById("currentPrice").textContent = "";


    document.getElementById("companyName").textContent = "";


    return;


  }



  const fallbackLogo = profile.image && profile.image.trim() ? profile.image : "";
  const localLogo = `https://www.realcpi.org/static/images/${ticker.toLowerCase()}.png`;

  document.getElementById("info").innerHTML = `
    <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 10px;">
      <img id="company-logo"
           src="${localLogo}"
           alt="${profile.companyName} Logo"
           style="height: 36px; max-width: 60px;"
           onerror="this.onerror=null; this.src='${fallbackLogo}';">
      <h3 style="margin: 0;"><strong>${profile.companyName} (${profile.symbol})</strong></h3>
    </div>

    <p><strong>Exchange:</strong> ${profile.exchange}</p>
    <p><strong>Currency:</strong> ${profile.currency || 'N/A'}</p>
    <p><strong>Headquarters:</strong> ${profile.city}, ${profile.state || ''} ${profile.country}</p>    
    <p><strong>CEO:</strong> ${profile.ceo || 'N/A'}</p>

    <p style="margin-top: 8px;"><strong>Market Cap:</strong> $${Math.round(Number(profile.mktCap) / 1e6).toLocaleString()}M</p>
    <p>P/E Ratio: ${peRatio}</p>
    <p>Forward P/E: ${forwardPE}</p>
    <p>Equity / Total Liabilities: ${equityToLiabilities}</p>
    <p>Dividend Yield: ${dividendYield}</p>
    <p>Industry: ${profile.industry}</p>
    <p><strong>Next Earnings Date:</strong> ${nextEarningsDate}</p>
    <p style="margin-top: 12px; margin-bottom: 12px;">
      <a href="${profile.website}" target="_blank" style="color: #0056b3; font-weight: bold;">Website</a>
    </p>
  `;



  document.getElementById("currentPrice").textContent = `$${Number(profile.price).toFixed(2)}`;
  document.getElementById("companyName").textContent = profile.companyName;
  setRange(currentRange);

await saveStaticSnapshot(ticker);


	
// Show daily move, last close, and volume
const lastClose = allPrices.length >= 2 ? allPrices[1].close : null;
const volumeData = await fetch(`https://financialmodelingprep.com/api/v3/historical-chart/1min/${ticker}?apikey=${apiKey}`)
  .then(r => r.json())
  .catch(() => []);

const quote = quoteData[0];
const avgVolume = quote?.avgVolume || (
  volumeData.length > 0
    ? Math.round(volumeData.slice(0, 30).reduce((sum, d) => sum + (d.volume || 0), 0) / 30)
    : "N/A"
);



const currentPriceNum = Number(profile.price);
if (lastClose) {
  const dailyMove = ((currentPriceNum / lastClose - 1) * 100).toFixed(2);
  document.getElementById("dailyChange").textContent = `(${dailyMove > 0 ? '+' : ''}${dailyMove}%)`;
  document.getElementById("dailyChange").style.color = dailyMove >= 0 ? "#55a232" : "#cc3314";
} else {
  document.getElementById("dailyChange").textContent = "";
}

function formatVolume(num) {
  if (typeof num !== 'number') return "N/A";
  if (num >= 1_000_000_000) return (num / 1_000_000_000).toFixed(1) + 'B';
  if (num >= 1_000_000) return (num / 1_000_000).toFixed(1) + 'M';
  if (num >= 1_000) return (num / 1_000).toFixed(0) + 'K';
  return num.toString();
}

	
document.getElementById("last-close").textContent = lastClose ? `$${lastClose.toFixed(2)}` : "N/A";
document.getElementById("avg-volume").textContent = avgVolume !== "N/A" ? formatVolume(avgVolume) : "N/A";
document.getElementById("extra-metrics").style.display = "block";


  fetch("https://pqzw0hq6g4.execute-api.us-east-1.amazonaws.com/default/generateTickerNews", {

    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ ticker }) // ‚úÖ dynamic value

  })

  .then(res => res.text())

  .then(html => {
    const iframe = document.getElementById("news-frame");
    const blob = new Blob([html], { type: "text/html" });
    iframe.src = URL.createObjectURL(blob);
  });



}



let selectedSuggestionIndex = -1;
let currentSuggestions = [];

async function handleInput() {
  const input = document.getElementById("tickerInput").value.trim();
  const suggestionBox = document.getElementById("suggestions");
  if (input.length < 1) {
    suggestionBox.style.display = "none";
    return;
  }


  let results = [];

  // Try search-ticker first
  try {
    const res1 = await fetch(`https://financialmodelingprep.com/api/v3/search-ticker?query=${input}&limit=10&apikey=${apiKey}`);
    results = await res1.json();


    // Fallback to /search if no results
    if (!results.length) {
      const res2 = await fetch(`https://financialmodelingprep.com/api/v3/search?query=${input}&limit=10&apikey=${apiKey}`);
      results = await res2.json();
    }
  } catch (err) {
    console.error("Search error:", err);
  }

  currentSuggestions = results;
  selectedSuggestionIndex = -1;
  suggestionBox.innerHTML = "";

  if (results.length > 0) {
    results.forEach((item, index) => {
      const li = document.createElement("li");
      li.textContent = `${item.name} (${item.symbol})`;
      li.style.padding = "8px";
      li.style.cursor = "pointer";
      li.addEventListener("click", () => {
        const ticker = item.symbol.toUpperCase();
        sessionStorage.setItem("lastTicker", ticker); // ‚úÖ store in session
        document.getElementById("tickerInput").value = ticker;
        suggestionBox.style.display = "none";
        loadData();
      });

      suggestionBox.appendChild(li);
    });
    suggestionBox.style.display = "block";
  } else {
    suggestionBox.style.display = "none";
  }
}

function handleKeyDown(event) {
  const suggestionBox = document.getElementById("suggestions");
  const items = suggestionBox.querySelectorAll("li");

  if (event.key === "ArrowDown") {
    if (!items.length) return;
    selectedSuggestionIndex = (selectedSuggestionIndex + 1) % items.length;
    updateActiveSuggestion(items);
    event.preventDefault();
  } else if (event.key === "ArrowUp") {
    if (!items.length) return;
    selectedSuggestionIndex = (selectedSuggestionIndex - 1 + items.length) % items.length;
    updateActiveSuggestion(items);
    event.preventDefault();
  } else if (event.key === "Enter") {
    event.preventDefault();
    if (selectedSuggestionIndex >= 0 && selectedSuggestionIndex < currentSuggestions.length) {
      document.getElementById("tickerInput").value = currentSuggestions[selectedSuggestionIndex].symbol;
    }

    const inputValue = document.getElementById("tickerInput").value.trim().toUpperCase();
    sessionStorage.setItem("lastTicker", inputValue); // ‚úÖ store in session
    document.getElementById("suggestions").style.display = "none";
    loadData();

 }
}

function updateActiveSuggestion(items) {
  items.forEach((item, i) => {
    item.style.background = i === selectedSuggestionIndex ? "#eee" : "white";
  });
}

window.addEventListener("DOMContentLoaded", () => {

  const params = new URLSearchParams(window.location.search);
  const ticker = params.get("ticker");
  if (ticker) {
    const input = document.getElementById("tickerInput");
    input.value = ticker;
    input.dispatchEvent(new Event('input')); // triggers name autofill
    setTimeout(loadData, 500); // simulate Enter after short delay
  }
});

</script>

    <iframe id="news-frame" style="width:100%; height:600px; border:none;"></iframe>    
    <iframe src="https://www.realcpi.org/news2.html" style="width: 100%; height: 4884px; border: medium;" onload="this.style.height=(this.contentDocument.body.scrollHeight + 50) + 'px';"></iframe>  
</div>


    <div class="right-column summary-container">
    <div id="summary-portfolio-container" class="right-column">

<!-- ‚úÖ Only inject this part into search.html -->
<div id="portfolio-summary">
  <div class="header">
    <div>
      <label for="portfolioSelect">Portfolio:</label>
      <select id="portfolioSelect"><option value="1. McLean Capital Fund">1. McLean Capital Fund</option><option value="2. Diamond Index">2. Diamond Index</option></select>
    </div>
    <button class="btn-edit" onclick="window.location.href='rc_portfolio.html'" title="Modify Portfolio">‚úèÔ∏è</button>
  </div>

  <table id="summaryTable"><tr style="background-color: rgb(240, 240, 240); font-weight: bold;">
    <td>üìå 19 positions ‚Ä¢ ‚è≥ Avg holding period: 4.0 yrs</td>
    <td> </td>
  </tr><tr style="cursor: pointer;">
      <td>
        <div class="ticker-name" style="color: #007BFF">MCI205</div>
        <div class="name">McLean Capital Diamond Fund</div>
      </td>
      <td>
        <div class="price">$11.00</div>
        <div class="move" style="color: green"></div>
      </td>
    </tr><tr style="cursor: pointer;">
      <td>
        <div class="ticker-name" style="color: inherit">CMI.V</div>
        <div class="name">C-Com Satellite Systems Inc.</div>
      </td>
      <td>
        <div class="price">$1.00</div>
        <div class="move" style="color: green">4.17%</div>
      </td>
    </tr><tr style="cursor: pointer;">
      <td>
        <div class="ticker-name" style="color: inherit">CSU.TO</div>
        <div class="name">Constellation Software Inc.</div>
      </td>
      <td>
        <div class="price">$4888.06</div>
        <div class="move" style="color: red">-1.36%</div>
      </td>
    </tr><tr style="cursor: pointer;">
      <td>
        <div class="ticker-name" style="color: inherit">CXI.TO</div>
        <div class="name">Currency Exchange International, Corp.</div>
      </td>
      <td>
        <div class="price">$19.55</div>
        <div class="move" style="color: red">-0.15%</div>
      </td>
    </tr><tr style="cursor: pointer;">
      <td>
        <div class="ticker-name" style="color: inherit">DOL.TO</div>
        <div class="name">Dollarama Inc.</div>
      </td>
      <td>
        <div class="price">$190.07</div>
        <div class="move" style="color: red">-0.22%</div>
      </td>
    </tr><tr style="cursor: pointer;">
      <td>
        <div class="ticker-name" style="color: inherit">ENGH.TO</div>
        <div class="name">Enghouse Systems Limited</div>
      </td>
      <td>
        <div class="price">$22.97</div>
        <div class="move" style="color: red">-4.13%</div>
      </td>
    </tr><tr style="cursor: pointer;">
      <td>
        <div class="ticker-name" style="color: inherit">GH.TO</div>
        <div class="name">Gamehost Inc.</div>
      </td>
      <td>
        <div class="price">$12.57</div>
        <div class="move" style="color: green">0.88%</div>
      </td>
    </tr><tr style="cursor: pointer;">
      <td>
        <div class="ticker-name" style="color: inherit">MTY.TO</div>
        <div class="name">MTY Food Group Inc.</div>
      </td>
      <td>
        <div class="price">$39.83</div>
        <div class="move" style="color: red">-12.84%</div>
      </td>
    </tr><tr style="cursor: pointer;">
      <td>
        <div class="ticker-name" style="color: inherit">VCI.V</div>
        <div class="name">Vitreous Glass Inc.</div>
      </td>
      <td>
        <div class="price">$6.18</div>
        <div class="move" style="color: green">0.32%</div>
      </td>
    </tr><tr style="cursor: pointer;">
      <td>
        <div class="ticker-name" style="color: inherit">AMAT</div>
        <div class="name">Applied Materials, Inc.</div>
      </td>
      <td>
        <div class="price">$197.93</div>
        <div class="move" style="color: red">-0.05%</div>
      </td>
    </tr><tr style="cursor: pointer;">
      <td>
        <div class="ticker-name" style="color: inherit">AMD</div>
        <div class="name">Advanced Micro Devices, Inc.</div>
      </td>
      <td>
        <div class="price">$146.42</div>
        <div class="move" style="color: green">1.57%</div>
      </td>
    </tr><tr style="cursor: pointer;">
      <td>
        <div class="ticker-name" style="color: inherit">BRK-B</div>
        <div class="name">Berkshire Hathaway Inc.</div>
      </td>
      <td>
        <div class="price">$475.86</div>
        <div class="move" style="color: red">-0.50%</div>
      </td>
    </tr><tr style="cursor: pointer;">
      <td>
        <div class="ticker-name" style="color: inherit">CHKP</div>
        <div class="name">Check Point Software Technologies Ltd.</div>
      </td>
      <td>
        <div class="price">$215.50</div>
        <div class="move" style="color: red">-2.60%</div>
      </td>
    </tr><tr style="cursor: pointer;">
      <td>
        <div class="ticker-name" style="color: inherit">CROX</div>
        <div class="name">Crocs, Inc.</div>
      </td>
      <td>
        <div class="price">$103.75</div>
        <div class="move" style="color: red">-1.98%</div>
      </td>
    </tr><tr style="cursor: pointer;">
      <td>
        <div class="ticker-name" style="color: inherit">EVVTY</div>
        <div class="name">Evolution AB (publ)</div>
      </td>
      <td>
        <div class="price">$80.38</div>
        <div class="move" style="color: red">-0.77%</div>
      </td>
    </tr><tr style="cursor: pointer;">
      <td>
        <div class="ticker-name" style="color: inherit">GOOGL</div>
        <div class="name">Alphabet Inc.</div>
      </td>
      <td>
        <div class="price">$180.19</div>
        <div class="move" style="color: green">1.45%</div>
      </td>
    </tr><tr style="cursor: pointer;">
      <td>
        <div class="ticker-name" style="color: inherit">LQDA</div>
        <div class="name">Liquidia Corporation</div>
      </td>
      <td>
        <div class="price">$14.09</div>
        <div class="move" style="color: red">-0.42%</div>
      </td>
    </tr><tr style="cursor: pointer;">
      <td>
        <div class="ticker-name" style="color: inherit">LULU</div>
        <div class="name">Lululemon Athletica Inc.</div>
      </td>
      <td>
        <div class="price">$236.51</div>
        <div class="move" style="color: red">-0.84%</div>
      </td>
    </tr><tr style="cursor: pointer;">
      <td>
        <div class="ticker-name" style="color: inherit">RMBS</div>
        <div class="name">Rambus Inc.</div>
      </td>
      <td>
        <div class="price">$64.06</div>
        <div class="move" style="color: red">-0.84%</div>
      </td>
    </tr></table>
</div>





</div>
    </div>


	
</div>
	
</main>

<footer>

This information is provided for informational purposes only. This is not for advice.

<br><br>

Please let us know if you have any suggestions, including data series or metrics we could add to Real CPI.

<br><br>
View S&amp;P 500 Calculator:<br><br>

<a href="/sp-calculator">
<img src="https://www.realcpi.org/static/images/sp_calculator.png" alt="Real CPI Logo" height="25">
</a>
<br><br>

Copyright ¬© 2024

&nbsp;
&nbsp;
&nbsp;
&nbsp;

<a href="mailto:contact@realcpi.org">contact@realcpi.org</a>

</footer>



<script>



function toggleMenu() {

    var menu = document.getElementById("menu-items");

    menu.classList.toggle("show");

}



</script>
	

<script>
function logout() {
  // Clear tokens and user info from localStorage
  localStorage.removeItem("idToken");
  localStorage.removeItem("accessToken");
  localStorage.removeItem("refreshToken");
  localStorage.removeItem("userEmail");

  // Optionally show a brief message or do cleanup

  // Redirect to homepage or login
  window.location.href = "/login";  // or use "/" to go to homepage
}
</script>

<script>
async function loadSummaryPortfolio() {
  try {
    const response = await fetch('summary_portfolio.html');
    if (!response.ok) throw new Error('Network error');
    const html = await response.text();

    // Extract the body content only
    const parser = new DOMParser();
    const doc = parser.parseFromString(html, 'text/html');
    const bodyContent = doc.body.innerHTML;

    // Inject into the container
    document.getElementById('summary-portfolio-container').innerHTML = bodyContent;

    // ‚úÖ After injection, dynamically load and execute the portfolio logic
    const script = document.createElement("script");
    script.src="https://www.realcpi.org/static/js/summaryPortfolio.js"; // path to external JS
    document.body.appendChild(script);

  } catch (error) {
    document.getElementById('summary-portfolio-container').innerHTML = 'Failed to load portfolio summary.';
    console.error('Error loading summary portfolio:', error);
  }
}

	
</script>
	
<script>
const email = localStorage.getItem("userEmail");
if (email) {
  loadSummaryPortfolio();
}

async function checkIfPdfExists(ticker) {
  const url = `https://realcpi-reports.s3.us-east-1.amazonaws.com/${ticker.toLowerCase()}.pdf`;

  try {
    const res = await fetch(url, { method: 'HEAD' });
    return res.ok;
  } catch (err) {
    console.error("Error checking PDF:", err);
    return false;
  }
}

	
</script>

<script src="https://www.realcpi.org/static/js/userStatus.js" defer=""></script>
	
	


<script>

function formatNumber(value) {

  return value.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 });

}



async function loadTickerBar() {

  const apiKey = 'y9Bthip8mNYaWhrHQp0eTtPX3KltVYPj'; // Replace with your actual API key

  const symbols = [
    '^GSPC',       // S&P 500
    '^IXIC',       // NASDAQ
    '^RUT',        // Russell 2000
    '^GSPTSE',     // TSX
    'URTH',        // MSCI World ETF
    'CLUSD',        // Crude Oil
    '^TNX',        // 10-Year Treasury
    'BTCUSD',     // Bitcoin
    'XAUUSD',     // Gold
    'CADUSD'     // CAD/USD
  ];



  const displayNames = {
    '^GSPC': 'S&P 500',
    '^IXIC': 'NASDAQ',
    '^RUT': 'Russell 2000',
    '^GSPTSE': 'S&P/TSX',
    'URTH': 'MSCI World',
    'CLUSD': 'Crude Oil',
    '^TNX': '10-Year',
    'BTCUSD': 'Bitcoin',
    'XAUUSD': 'Gold',	  
    'CADUSD': 'CAD/USD'
  };



  try {

    const url = `https://financialmodelingprep.com/api/v3/quote/${symbols.join(',')}?apikey=${apiKey}`;

    const res = await fetch(url);

    const data = await res.json();



    const bar = document.getElementById("ticker-bar");

    bar.innerHTML = "";



    data.forEach(item => {

      const changeClass = item.changesPercentage >= 0 ? "green" : "red";

      const display = displayNames[item.symbol] || item.symbol;

      const span = document.createElement("span");

      const tickerMap = {

        '^GSPC': 'VOO',

        '^IXIC': 'QQQ',

        '^RUT': 'IWM',

        '^GSPTSE': 'XIC.to',

        'URTH': 'URTH',

        'CLUSD': 'CLUSD',

        '^TNX': 'IEF',

        'BTCUSD': 'BTCUSD',

        'CADUSD': 'CADUSD'

      };



      const targetTicker = tickerMap[item.symbol] || item.symbol;



      span.innerHTML = `

        <a href="https://www.realcpi.org/search.html?ticker=${encodeURIComponent(targetTicker)}" style="text-decoration: none; color: inherit;">

          <div class="blue">${display}</div>

          <div>${formatNumber(item.price)}</div>

          <div class="${changeClass}">${item.changesPercentage.toFixed(2)}%</div>

        </a>

      `;



      // ‚úÖ Append the span to the ticker bar

      bar.appendChild(span);



    });

  } catch (error) {

    document.getElementById("ticker-bar").textContent = "Unable to load market data.";

    console.error("Ticker fetch error:", error);

  }

}



loadTickerBar();

setInterval(loadTickerBar, 30000); // Refresh every 30 seconds

</script>


<script src="https://www.realcpi.org/static/js/summaryPortfolio.js"></script><ins class="adsbygoogle adsbygoogle-noablate" style="display: none !important;" data-adsbygoogle-status="done" data-ad-status="unfilled"><div id="aswift_0_host" style="border: medium; height: 0px; width: 0px; margin: 0px; padding: 0px; position: relative; visibility: visible; background-color: transparent; display: inline-block;"><iframe id="aswift_0" name="aswift_0" style="left:0;position:absolute;top:0;border:0;width:undefinedpx;height:undefinedpx;min-height:auto;max-height:none;min-width:auto;max-width:none;" sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-3345310399251053&amp;output=html&amp;adk=1812271804&amp;adf=3025194257&amp;abgtt=6&amp;lmt=1752496325&amp;plat=3%3A16%2C4%3A16%2C9%3A32776%2C16%3A8388608%2C17%3A32%2C24%3A32%2C25%3A32%2C30%3A1081344%2C32%3A32%2C41%3A32%2C42%3A32&amp;format=0x0&amp;url=https%3A%2F%2Fwww.realcpi.org%2Fsearch.html&amp;pra=5&amp;wgl=1&amp;aihb=0&amp;aiudt=1&amp;asro=0&amp;aifxl=29_18~30_19&amp;aiapm=0.1542&amp;aiapmd=0.1542&amp;aiapmi=0.16&amp;aiapmid=0.16&amp;aiact=0.5423&amp;aiactd=0.5423&amp;aicct=0.7&amp;aicctd=0.5799&amp;ailct=0.5849&amp;ailctd=0.65&amp;aimart=4&amp;aimartd=4&amp;dt=1752496406855&amp;bpp=1&amp;bdt=220&amp;idt=136&amp;shv=r20250702&amp;mjsv=m202507090101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie_enabled=1&amp;eoidce=1&amp;nras=1&amp;correlator=7191226140481&amp;frm=20&amp;pv=2&amp;u_tz=-240&amp;u_his=4&amp;u_h=1080&amp;u_w=1920&amp;u_ah=1032&amp;u_aw=1920&amp;u_cd=24&amp;u_sd=1&amp;adx=-12245933&amp;ady=-12245933&amp;biw=1869&amp;bih=891&amp;scr_x=0&amp;scr_y=0&amp;eid=31093428%2C95353386%2C95362656%2C95363185%2C95365460%2C95366346%2C31093415%2C95359265%2C95366365&amp;oid=2&amp;pvsid=974981952476668&amp;tmod=421333354&amp;uas=0&amp;nvt=2&amp;fsapi=1&amp;fc=1920&amp;brdim=-8%2C-8%2C-8%2C-8%2C1920%2C0%2C1936%2C1048%2C1869%2C891&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=32768&amp;bc=31&amp;bz=1.04&amp;ifi=1&amp;uci=a!1&amp;fsb=1&amp;dtd=140" data-google-container-id="a!1" tabindex="0" title="Advertisement" aria-label="Advertisement" data-load-complete="true"></iframe></div></ins><iframe src="https://www.google.com/recaptcha/api2/aframe" width="0" height="0" style="display: none;"></iframe></body><iframe id="google_esf" name="google_esf" src="https://googleads.g.doubleclick.net/pagead/html/r20250702/r20190131/zrt_lookup_fy2021.html" style="display: none;"></iframe></html>